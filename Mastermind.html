<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title>Yuklun's MasterMind</title>
<script type="text/javascript">
    
    
    
    var allColors = new Array("Orange", "Red", "Green", "Blue", "White", "Yellow", "Purple", "Black");
    
    var randomColor1 = allColors[Math.floor(Math.random() * allColors.length)];
    var randomColor2 = allColors[Math.floor(Math.random() * allColors.length)];
    while (randomColor2 == randomColor1) {
        randomColor2 = allColors[Math.floor(Math.random() * allColors.length)];
    }

    var randomColor3 = allColors[Math.floor(Math.random() * allColors.length)];
    while (randomColor3 == randomColor2||randomColor3==randomColor1) {
        randomColor3 = allColors[Math.floor(Math.random() * allColors.length)];
    }

    var randomColor4 = allColors[Math.floor(Math.random() * allColors.length)];
    while (randomColor4 == randomColor3||randomColor4==randomColor2||randomColor4==randomColor1) {
        randomColor4 = allColors[Math.floor(Math.random() * allColors.length)];
   }
        
    
    function populateList() {
        for (i = 0; i < allColors.length; i++) {
          var newColor = new Option(allColors[i], allColors[i]);
          document.getElementById('box1').options.add(newColor);

          document.getElementById('displayRandom').innerHTML = randomColor1+randomColor2+randomColor3+randomColor4;
                   
        }
    }
    
    
        
    function populateList2() {
        for (i = 0; i < allColors.length; i++) {
            var newColor = new Option(allColors[i], allColors[i]);
            document.getElementById('box2').options.add(newColor);

        }
    }
    
    function populateList3() {
        for (i = 0; i < allColors.length; i++) {
            var newColor = new Option(allColors[i], allColors[i]);
            document.getElementById('box3').options.add(newColor);

        }
    }
    
    function populateList4() {
        for (i = 0; i < allColors.length; i++) {
            var newColor = new Option(allColors[i], allColors[i]);
            document.getElementById('box4').options.add(newColor);

        }
    }

    function userColor(idNum, color) {
        this.idNum = idNum;
        this.color = userColor;
    }

    function showUserColor() {
        var ni = document.getElementById('myDiv');
        var numi = document.getElementById('theValue');
        var num = (document.getElementById('theValue').value - 1) + 2;
        numi.value = num;
        var newdiv = document.createElement('div');
        var divIdName = 'my' + num + 'Div';
        newdiv.setAttribute('id', divIdName);
        newdiv.innerHTML = userInput()[0] + userInput()[1]+userInput()[2]+userInput()[3];
        ni.appendChild(newdiv);
    }

    function showScore1() {
        var ni = document.getElementById('score1');
        var numi = document.getElementById('theValue');
        var num = (document.getElementById('theValue').value - 1) + 2;
        numi.value = num;
        var newdiv = document.createElement('div');
        var divIdName = 'my' + num + 'Div';
        newdiv.setAttribute('id', divIdName);
        newdiv.innerHTML = score1;
        ni.appendChild(newdiv);
        if (score1 == 4) {
            document.getElementById('winner').innerHTML = 'You have won!'
        }
    }

    function showScore2() {
        var ni = document.getElementById('score2');
        var numi = document.getElementById('theValue');
        var num = (document.getElementById('theValue').value - 1) + 2;
        numi.value = num;
        var newdiv = document.createElement('div');
        var divIdName = 'my' + num + 'Div';
        newdiv.setAttribute('id', divIdName);
        newdiv.innerHTML = score2;
        ni.appendChild(newdiv);
        
        
    }    
      
    function userInput() {

        var userColor1 = document.getElementById('form1').box1.options[document.getElementById('form1').box1.selectedIndex].value;

        var userColor2 = document.getElementById('form1').box2.options[document.getElementById('form1').box2.selectedIndex].value;

        var userColor3 = document.getElementById('form1').box3.options[document.getElementById('form1').box3.selectedIndex].value;

        var userColor4 = document.getElementById('form1').box4.options[document.getElementById('form1').box4.selectedIndex].value;

        
        
        return [userColor1, userColor2, userColor3, userColor4];

     
    }



    function compareResults() {
        score1 = 0;
        score2 = 0;
        if (userInput()[0] == window.randomColor1) {
            score1 += 1;
        }
        else if(userInput()[0]==window.randomColor2||userInput()[0]==window.randomColor3||userInput()[0]==window.randomColor4){
            score2 +=1;
            }
        
        if (userInput()[1] == window.randomColor2) {
            score1 += 1;
        }
        else if(userInput()[1]==window.randomColor1||userInput()[1]==window.randomColor3||userInput()[1]==window.randomColor4){
            score2 +=1;
            }
        
        if (userInput()[2] == window.randomColor3) {
                score1 += 1;
        }
        else if(userInput()[2]==window.randomColor1||userInput()[2]==window.randomColor2||userInput()[2]==window.randomColor4){
            score2 +=1;
            }
        
        if (userInput()[3] == window.randomColor4) {
                score1 += 1;
            }
        else if(userInput()[3]==window.randomColor1||userInput()[3]==window.randomColor2||userInput()[3]==window.randomColor3){
            score2 +=1;
            }
        
        showScore1();

        showScore2();
    
        
    }

    
            
        
    
</script>

    
    <style type="text/css">
        .style1
        {
            width: 100%;
        }
        .style2
        {
            width: 204px;
        }
        .style3
        {
            width: 330px;
        }
    </style>

    
</head>
<body onload = "populateList();populateList2();populateList3();populateList4();">
    <form id="form1" runat="server">
   <input type="hidden" value="0" id="theValue" />
   
    <script type="text/javascript">
        
    
    </script>
   Welcome to YL's Mastermind. There are no duplicates of color in my choices. Give it your best guess!<br />
   <select name="box1" id="box1" size="9">
        </select> 
    <select name="box2" id="box2" size="9">
        </select> 
   <select name="box3" id="box3" size="9">
        </select>
   <select name="box4" id="box4" size="9">
        </select>  
    <br /><a href="javascript:;" onclick="showUserColor();compareResults();">Submit to Mastermind</a> 
   <div id="displayRandom"></div>  
    
    </form>
    <table class="style1">
        <tr>
            <td class="style2">
                Your Guess</td>
            <td class="style3">
                No. with matching position and color</td>
            <td>
                No. with matching color only</td>
        </tr>
        <tr>
            <td class="style2">
   <div id="myDiv">
    
    </div>
            </td>
            <td class="style3">
    <div id="score1"></div>
            </td>
            <td>
    <div id="score2"></div>
            </td>
        </tr>
        <tr>
            <td colspan="3">
    <div id="winner"></div>
            </td>
        </tr>
    </table>
</body>
</html>
